(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4709],{27971:function(e,s,r){"use strict";var t=r(64836);s.Z=void 0;var n=t(r(64938)),a=r(85893),i=(0,n.default)((0,a.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39l-1.61 1.61z"}),"TaskAlt");s.Z=i},42255:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-pass/[token]",function(){return r(78976)}])},78976:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var t=r(85893),n=r(67294),a=r(9008),i=r.n(a),o=r(5584),l=r.n(o),c=r(61903),u=r(83321),d=r(27971),p=r(14477),m=r(11163),h=r(62344),_=r(41602),f=r(41664),g=r.n(f);function w(){let e=(0,p.C)(e=>e.sessionSlice.error),s=(0,p.T)(),r=(0,m.useRouter)(),[a,o]=(0,n.useState)({password1:"",password2:""}),[f,w]=(0,n.useState)(!1),[x,j]=(0,n.useState)(""),C=e=>{o({...a,[e.target.name]:e.target.value})},y=async e=>{e.preventDefault();let{token:t}=r.query;if(a.password1&&a.password2&&a.password1===a.password2){let e=await s((0,h.oM)(t,a.password1));(null==e?void 0:e.success)?(w(!1),j(e.message)):setTimeout(()=>{s((0,_.S3)({message:""}))},2e3)}else s((0,_.S3)({message:"Введенные пароли не совпадают"})),setTimeout(()=>{s((0,_.S3)({message:""}))},2e3)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Cape&Coat | Новый пароль"}),(0,t.jsx)("meta",{name:"title",content:"Cape and Coat"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)("div",{className:l().formContainer,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{style:{fontSize:"50px",color:"green"}}),(0,t.jsxs)("div",{className:l().successUpd,children:[x," ",(0,t.jsx)(g(),{href:"/signin",children:"Войдите в ваш аккаунт"})]})]}):(0,t.jsxs)("form",{className:l().signInForm,children:[(0,t.jsx)("h3",{className:l().header,children:"Введите новый пароль"}),e&&(0,t.jsx)("p",{className:l().errMsg,children:e}),(0,t.jsx)(c.Z,{className:l().textField,placeholder:"Пароль",name:"password1",type:"password",inputProps:{style:{fontFamily:"Ysabeau Infant"}},defaultValue:a.password1,onChange:C,fullWidth:!0,margin:"normal",required:!0}),(0,t.jsx)(c.Z,{className:l().textField,placeholder:"Пароль",name:"password2",type:"password",inputProps:{style:{fontFamily:"Ysabeau Infant"}},defaultValue:a.password2,onChange:C,fullWidth:!0,margin:"normal",required:!0}),(0,t.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",style:{backgroundColor:"black",color:"white",marginTop:"15px"},onClick:y,children:"Сохранить"})]})})]})}},5584:function(e){e.exports={formContainer:"Auth_formContainer__yRGg1",signInForm:"Auth_signInForm__skiSB",redirect:"Auth_redirect__yrlfV",successUpd:"Auth_successUpd__P0ioC",redirMsg:"Auth_redirMsg__5oKpm",successSent:"Auth_successSent__41A14",header:"Auth_header__FrUbb",errMsg:"Auth_errMsg__UKglw"}},9008:function(e,s,r){e.exports=r(73902)}},function(e){e.O(0,[5816,1903,9774,2888,179],function(){return e(e.s=42255)}),_N_E=e.O()}]);