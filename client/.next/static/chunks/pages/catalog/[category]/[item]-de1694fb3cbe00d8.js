(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4922],{6219:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/catalog/[category]/[item]",function(){return a(72380)}])},75172:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var i=a(85893),n=a(9008),s=a.n(n),r=a(45324),c=a.n(r),l=a(41664),o=a.n(l),d=a(25675),m=a.n(d);function _(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Cape&Coat | Страница не найдена"}),(0,i.jsx)("meta",{name:"title",content:"Cape and Coat"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("div",{className:c().errContainer,children:[(0,i.jsx)("h3",{className:c().errMsg,style:{zIndex:2},children:"Упс! Такой страницы сейчас не существует"}),(0,i.jsx)(m(),{src:"/404.png",alt:"collage1",fill:!0,style:{zIndex:"0"}}),(0,i.jsxs)("div",{className:c().errBtnContainer,style:{zIndex:2},children:[(0,i.jsx)(o(),{href:"/",children:(0,i.jsx)("button",{className:c().errBtn,children:"Вернуться на главную"})}),(0,i.jsx)(o(),{href:"/catalog",children:(0,i.jsx)("button",{className:c().errBtn,children:"Посмотреть каталог"})})]})]})]})}},72380:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return T},default:function(){return F}});var i=a(85893),n=a(67294);a(51624),a(7313);var s=a(98396),r=a(48929),c=a(78592),l=a(99304);function o(e){let{imageData:t}=e;return(0,i.jsx)(r.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:0,pagination:{type:"bullets"},loop:!0,slideToClickedSlide:!0,className:"mySwiper",breakpoints:{180:{slidesPerView:1},320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1}},children:t&&t.map(e=>(0,i.jsx)(r.o5,{className:"slide-container",children:(0,i.jsx)("img",{src:e.url,alt:"Image ".concat(e.id),style:{width:"100%"}})},e.id))})}a(5004),a(657),a(30727),c.Z.use([l.tl,l.W_]);var d=a(25675),m=a.n(d);function _(e){let{imageData:t}=e,a=(0,s.Z)("(max-width: 768px)");return(0,i.jsx)("div",{className:"product__media",children:a?(0,i.jsx)(o,{imageData:t}):(0,i.jsx)("div",{className:"product__media-list",children:t.map((e,t)=>(0,i.jsx)("div",{className:"product__media-item",children:(0,i.jsx)("div",{className:"product-img",id:"img".concat(t),"data-target":"#img".concat(t),children:(0,i.jsx)(m(),{src:e.url,alt:"photo",width:0,height:0,sizes:"100vw",priority:!0,style:{width:"100%",height:"auto"}})},"img".concat(t))},"img-".concat(e.id)))})})}var x=a(26322),h=a.n(x),p=a(87357),u=a(78462),j=a(90629),g=a(76113),f=a(59334),N=a(57922),v=a(15861),C=a(60181),w=a(23508);function y(e){let{name:t,data:a}=e,[s,r]=(0,n.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.Z,{sx:{margin:0,padding:0,width:"100%",bgcolor:"background.paper",borderRadius:0,alignItems:"start"},component:j.Z,elevation:3,children:[(0,i.jsxs)(g.Z,{onClick:()=>{r(!s)},children:[(0,i.jsx)(f.Z,{primary:t,sx:{textAlign:"left"}}),s?(0,i.jsx)(C.Z,{}):(0,i.jsx)(w.Z,{})]}),(0,i.jsx)(N.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(g.Z,{children:(0,i.jsx)(v.Z,{sx:{textAlign:"left"},children:a})})})]})})}a(80508);var I=a(54047),b=a(14477);a(66962);var k=a(11352),P=a(9473);function S(e){let{itemId:t,selectedMaterialId:a,selectedMaterialName:s,setMaterialAlert:r,itemData:c}=e,[l,o]=(0,n.useState)(!1),d=(0,b.T)(),m=(0,P.v9)(e=>e.sessionSlice.user),_=(0,P.v9)(e=>e.cartSlice.cartItems);(0,n.useEffect)(()=>{if(m){let e=_.some(e=>e.id==t||e.item_id==t);o(e)}else{let e=JSON.parse(localStorage.getItem("cartItems")||"[]"),a=e.some(e=>e.id===t);o(a),!1===c.in_stock?c.Material.name="":s=""}},[_,m,t]);let x=async()=>{try{if(!a&&!l&&!c.in_stock){let e=document.getElementById("alert");e&&e.scrollIntoView({behavior:"smooth"}),r("alert"),setTimeout(()=>{r("")},1e3);return}if(m){if(!l){let e=s||c.Material.name,a=await fetch("".concat("http://localhost:3377/api/","cart/item/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({material_name:e})});a.ok&&(await a.json(),await d((0,k.SM)()),o(!l))}}else{let e=JSON.parse(localStorage.getItem("cartItems"))||[],a=s||c.Material.name,i=e.find(e=>e.id===t);if(i)o(l);else{let i=[...e,{id:t,material_name:a,in_stock:c.in_stock}];localStorage.setItem("cartItems",JSON.stringify(i)),o(!l),await d((0,k.gn)(i));return}}}catch(e){console.log(e)}};return(0,i.jsx)("div",{className:"product__actions",children:(0,i.jsxs)("div",{className:"product__actions-line",children:[(0,i.jsx)("div",{className:"product__actions-button",children:(0,i.jsx)("button",{onClick:x,type:"button",className:"ui-button ui-button-wide ui-button-dark".concat(l?" in-cart":""),children:(0,i.jsx)("div",{className:"ui-ripple".concat(l?" in-cart-btn":""),children:(0,i.jsx)("div",{className:"ui-button-content".concat(l?" in-cart":""),children:l?"В корзине":"В корзину"})})})}),(0,i.jsx)("div",{className:"product__actions-additional",children:(0,i.jsx)("div",{className:"product__favorites",children:(0,i.jsx)(I.Z,{itemId:t})})})]})})}function Z(e){let{itemId:t,itemData:a,materialsData:s}=e,r=null==s?void 0:s.map(e=>({id:e.id,url:"".concat("http://localhost:3377/materials/").concat(e.photo),name:e.name})),[c,l]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[_,x]=(0,n.useState)(0),[h,p]=(0,n.useState)(""),u=(e,t,a)=>{l(e),d(t),x(a),p("")};return(0,i.jsxs)("div",{className:"textile_choose_div",style:{display:"flex",flexDirection:"column"},children:[a.in_stock?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"textile_choose ".concat(h),children:["Материал изделия:"," ",r.filter(e=>e.id===a.material_id)[0].name]}),(0,i.jsx)("div",{className:"materials",children:r.filter(e=>e.id===a.material_id).map((e,t)=>(0,i.jsx)("div",{className:"one_material_div",children:(0,i.jsx)("div",{className:"textile_icons selected",children:(0,i.jsx)(m(),{src:e.url,alt:"Textile ".concat(e.id),width:100,height:100,priority:!0,style:{objectFit:"cover",borderRadius:"5px"}})})},e.id))})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"textile_choose ".concat(h),children:["Выберите материал: ",o]}),(0,i.jsx)("div",{className:"materials",children:r.map((e,t)=>(0,i.jsx)("div",{className:"one_material_div",children:(0,i.jsx)("div",{className:"textile_icons".concat(0===t?" first":"").concat(t===r.length-1?" last":""," ").concat(c===e.url?"selected":""),onClick:()=>u(e.url,e.name,e.id),children:(0,i.jsx)(m(),{src:e.url,alt:"Textile ".concat(e.id),width:100,height:100,priority:!0,style:{objectFit:"cover",borderRadius:"5px"}})})},e.id))})]}),(0,i.jsx)(S,{itemId:t,itemData:a,selectedMaterialName:o,selectedMaterialId:_,setMaterialAlert:p})]})}var R=a(92077),D=a.n(R);function B(e){let{itemData:t,itemId:a,materialsData:n}=e,r=(0,s.Z)("(max-width: 768px)");return(0,i.jsxs)("div",{className:"".concat(h().grid__item," ").concat(h().large_one_third),id:h().productInfoProduct,children:[(0,i.jsxs)("div",{className:h().text_left,children:[(0,i.jsx)("p",{id:"alert",className:h().text_center,children:"Cape & Coat"}),(0,i.jsxs)("div",{className:h().itemNameDiv,children:[" ",(0,i.jsx)("h1",{className:h().itemName,children:t.name}),(0,i.jsxs)("span",{className:h().itemArt,children:["Art.",t.article]})]}),t.in_stock?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:h().price_old,children:"".concat(D()(t.price).format("0,0")," РУБ.")}),(0,i.jsx)("div",{className:h().price_current,children:"".concat(D()(t.new_price).format("0,0")," РУБ.")}),(0,i.jsx)("div",{className:h().discount,children:"Скидка ".concat(Math.round((t.price-t.new_price)*100/t.price)," %")})]}):(0,i.jsx)("div",{className:h().price_current,children:"".concat(D()(t.price).format("0,0")," РУБ.")}),(0,i.jsx)(Z,{itemId:a,itemData:t,materialsData:n})]}),(0,i.jsxs)(p.Z,{sx:{class:"list-box",display:"flex",flexDirection:"column",justifyContent:"end",alignItems:"start",marginBottom:r?"10px":"50px"},children:[(0,i.jsxs)(u.Z,{sx:{width:"100%"},children:[(0,i.jsx)(y,{name:"Описание",data:t.description}),(0,i.jsx)(y,{name:"Характеристики",data:t.characteristics}),(0,i.jsx)(y,{name:"Параметры модели на фото",data:t.model_params})]}),t.in_stock&&(0,i.jsx)("span",{children:"Товары в категории SALE не отшиваются на заказ"})]})]})}var E=a(9008),M=a.n(E),A=a(1412),O=a(75172),T=!0,F=function(e){let{itemData:t,imageData:a,itemId:n,materialsData:s,similarItems:r,error:c}=e;return c?(0,i.jsxs)("div",{className:"error-message",children:["Произошла ошибка: ",c.message]}):t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(M(),{children:[(0,i.jsxs)("title",{children:["Cape&Coat | ","".concat(t.name)]}),(0,i.jsx)("meta",{name:"description",content:"Откройте для себя ".concat(t.name," на Cape&Coat, качественная одежда на все случаи жизни")}),(0,i.jsx)("meta",{name:"title",content:"Cape and Coat"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{name:"keywords",content:"одежда, на заказ, пошив, Нижний Новгород, распродажа, пошив платья, пошив платья на заказ, пошив пальто, пошив женских пальто, пошив костюма, пошив костюма на заказ, пошив женских костюмов, пошив брюк женских, пошив брюк, пошив юбок, пошив на заказ, пошив тренча, пошив шуб, пошив шуб на заказ, пошив искусственных шуб, индивидуальный пошив шубы, пошив женского пиджака, пошив пиджака, пошив одежды цена"}),(0,i.jsx)("meta",{name:"author",content:"Cape and coat"}),(0,i.jsx)("meta",{name:"robots",content:"index, follow"}),(0,i.jsx)("meta",{name:"canonical",content:"https://тут написать сайт/catalog/".concat(t.Category.urlName,"/").concat(n)}),(0,i.jsx)("meta",{property:"og:title",content:"Cape&Coat | ".concat(t.name)}),(0,i.jsx)("meta",{property:"og:description",content:"Откройте для себя ".concat(t.name," на Cape&Coat, качественная одежда на все случаи жизни")}),(0,i.jsx)("meta",{property:"og:url",content:"https:тут написать сайт/catalog/".concat(t.Category.urlName,"/").concat(n)}),(0,i.jsx)("meta",{property:"og:type",content:"website"})]}),(0,i.jsx)("div",{className:"wrapper wrapper-product",children:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"product",children:[(0,i.jsxs)("div",{className:"product__wrapper",children:[(0,i.jsx)("div",{className:"left-part",children:(0,i.jsx)(_,{imageData:a})}),(0,i.jsx)("div",{className:"right-part",children:(0,i.jsx)(B,{itemData:t,itemId:n,materialsData:s})})]}),(0,i.jsx)(A.Z,{pageName:"Похожие товары",itemsArr:r})]})})})]}):(0,i.jsx)(O.default,{})}},66962:function(){},7313:function(){},80508:function(){},51624:function(){},26322:function(e){e.exports={grid__item:"ItemRightPartComp_grid__item__7nXWi",text_left:"ItemRightPartComp_text_left__OD6Ot",text_center:"ItemRightPartComp_text_center__ZK6De",itemName:"ItemRightPartComp_itemName__T3N71",itemNameDiv:"ItemRightPartComp_itemNameDiv__nXyBN",itemArt:"ItemRightPartComp_itemArt___JG50",price_old:"ItemRightPartComp_price_old__beDA0",price_current:"ItemRightPartComp_price_current__ERP6j",discount:"ItemRightPartComp_discount__ErBQZ",prices:"ItemRightPartComp_prices__30Wqa",product__form:"ItemRightPartComp_product__form__9uabj",product_actions:"ItemRightPartComp_product_actions__FyrJa"}},45324:function(e){e.exports={errContainer:"__404_errContainer__GB_YJ",errBtnContainer:"__404_errBtnContainer__Cqak3",errMsg:"__404_errMsg__8YtxN",errBtn:"__404_errBtn__e3fQC"}}},function(e){e.O(0,[9236,7994,1412,9774,2888,179],function(){return e(e.s=6219)}),_N_E=e.O()}]);